<!DOCTYPE html>
<title>Retrieval evaluation result - Rag Studio</title>
<script src="/static/list.min.js"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
<nav>
  <h1>RAG Studio</h1>
</nav>
<section class="content">
    <div class="content-block">
        <div id="results">
            <table class="table table-striped ">
                <thead>
                    <tr>
                        <th>Query</th>
                        <th>Expected text</th>
                        <th>Hit rate</th>
                        <th>Precision</th>
                        <th>Recall</th>
                        <th>Retrieved text 0</th>
                        <th>Retrieved text 1</th>
                    </tr>
                </thead>
                <tbody class="list"></tbody>
            </table>
        </div>
      </div>
  {% for message in get_flashed_messages() %}
  <div class="flash">{{ message }}</div>
  {% endfor %} {% block content %}{% endblock %}
  <div id="hacker-list">
    <ul class="list"></ul>
</div>
</section>
<script>
    const receivedData = {{ content|tojson }};
  </script>

  <script>
    console.log(receivedData);
    const options = {
  valueNames: [ 'query', 'expected_text', 'hit_rate', 'precision', 'recall', 'retrieved_text_0', 'retrieved_text_1' ],
  item: '<tr><td class="query"></td><td class="expected_text"></td><td class="hit_rate"></td><td class="precision"></td><td class="recall"></td><td class="retrieved_text_0"></td><td class="retrieved_text_1"></td></tr>'
};
    const resultsTable = new List('results', options, receivedData);

    </script>

    <!-- <script>
      
    var options = {
        valueNames: [ 'name', 'city' ],
        item: '<li><h3 class="name"></h3><p class="city"></p></li>'
      };
      
      var values = [
        { name: 'Jonny', city:'Stockholm' }
        , { name: 'Jonas', city:'Berlin' }
      ];
      
      var hackerList = new List('hacker-list', options, values);
      </script> -->